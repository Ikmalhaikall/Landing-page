function validateForm(){var a=$("#ajaxForm"),e=($('[type="submit"]'),a.find('[name="email"]')),n=a.find('[name="name"]'),t=a.find('[name="skype"]'),i=a.find('[name="file"]');return!e.length||e.val()&&isValidEmailAddress(e.val())?n.length&&(!n.val()||n.val().length<2)?(errorModal("Invalid name"),!1):t.length&&t.val()&&!isValidSkype(t.val())?(errorModal("Invalid skype name"),!1):!(i.length&&i.val()&&i[0].files[0].size>8388608)||(errorModal("Max size file's attach: 8 Mb."),!1):(errorModal("Invalid email"),!1)}function isValidEmailAddress(a){return new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(a)}function isValidSkype(a){return new RegExp(/^[a-z][a-z0-9\.,\-_]{5,31}$/i).test(a)}function errorModal(a,e){a=a||"Error, check your form",$("body").addClass("modal-open");var n=$("#errorModal");n.addClass("active"),n.find(".message").text(a),e?n.find(".is-file").addClass("hidden"):n.find(".is-file").removeClass("hidden"),$(".thanks-modal .delete-btn").click(function(){$("body").removeClass("modal-open"),n.removeClass("active")})}function thanksModal(a){$("body").addClass("modal-open"),$("#formModal").addClass("active"),$(".thanks-modal .delete-btn").click(function(){$("body").removeClass("modal-open"),$("#formModal").removeClass("active")})}$(window).scroll(function(){$(window).scrollTop()>100?$(".layout_header").addClass("active"):$(".layout_header").removeClass("active")}),$(function(){var a=window.innerWidth>=1024?75:43;$(window).resize(function(){a=window.innerWidth>=1024?75:43}),$("[data-nav-scroll]").on("click",function(e){e.preventDefault();var n=($(this).attr("href"),$(window).width());$(window).resize(function(){n=$(window).width()});var t=$(this).attr("href"),i=$(t).offset().top;$("html, body").animate({scrollTop:i-a},800),$("#nav").removeClass("active")})}),$(document).ready(function(){$(".failed-ideas_item").hover(function(){$(".cat2").addClass("animation-block")},function(){$(".cat2").removeClass("animation-block")}),$("#scene, #question, #idea").parallax(),$('[href="#nav"]').on("click",function(a){a.preventDefault(),$("#nav").addClass("active")}),$("#close").on("click",function(a){a.preventDefault(),$("#nav").removeClass("active")});$("#ajaxForm").submit(function(a){if(a.preventDefault(),a.stopPropagation(),!validateForm())return!1;for(var e=$(this),n=new FormData,t=e.find("input"),i=0;t.length>i;i++)if("file"==t.eq(i).attr("type")){if(t.eq(i).val()){if(t[i].files[0].size>8388608)return alert("File too big"),!1;n.append(t.eq(i).attr("name"),t[i].files[0])}}else n.append(t.eq(i).attr("name"),t.eq(i).val());for(var o=e.find("textarea"),i=0;o.length>i;i++)n.append(o.eq(i).attr("name"),o.eq(i).val());return $.ajax({url:"send.php",data:n,processData:!1,contentType:!1,type:"POST",success:function(){thanksModal(),$("#ajaxForm [data-reset]").val("")},error:function(a){errorModal(a?a.responseText:"Error")}}),!1}),$(".input-file").change(function(){$(".text-file").remove(),$(".attach-list").append("<div class='text-file'>"+$(this).val().split(/(\\|\/)/g).pop()+"<span><i class='fa fa-times-circle' aria-hidden='true'></i></span></div>")}),$(document).on("click",".text-file span",function(){$(".text-file").remove()})});var animations=function(){window.pageYOffset||document.documentElement.scrollTop;$("[data-animation]").each(function(){var a=$(this),e=a.offset().top,n=a.attr("data-animation");e<$(window).scrollTop()+window.innerHeight-200&&a.addClass("visible").addClass(n)})};$(window).on("scroll",function(){animations()});